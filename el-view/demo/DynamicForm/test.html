<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://blog.marisa6.cn/d/vue.js"></script>
  <script src="https://blog.marisa6.cn/d/vue-composition-api.umd.js"></script>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://blog.marisa6.cn/d/elementui/index.css">
  <!-- 引入组件库 -->
  <script src="https://blog.marisa6.cn/d/elementui/index.js"></script>
  <script src="../../dist/el-view.global.js"></script>
</head>
<body>
  <div id="app">
    <el-form-control :form-control="formControl">
      <el-formitem-control type="el-input" name="inputVal" class="123-ss" :control="inputFormControl"></el-formitem-control>
      <el-formitem-control type="el-select" name="selectVal" :control="inputFormControl2">
        <el-option label="表单项1" value="1"></el-option>
        <el-option label="表单项2" value="2"></el-option>
      </el-formitem-control>
    </el-form-control>
  </div>
</body>
</html>
<script>
  Vue.use(window.vueCompositionApi.default);
  Vue.use(window.compositionElViewForm);
  const { reactive, ref, onMounted } = window.vueCompositionApi;
  const { useElForm } = window.compositionElViewForm;
  const app = new Vue({
    setup() {
      const elFormRef = ref(null);
      const { useItemControl, formControl } = useElForm({
        elFormRef,
        formModel: {
          inputVal: '123',
          selectVal: ''
        }
      });
      const inputFormControl = useItemControl({
        itemProps: {
          disabled: false
        },
        itemAttrs: {
          placeholder: 'is use Control placeholder'
        }
      });
      const inputFormControl2 = useItemControl({
        itemProps: {
          disabled: false
        },
        itemAttrs: {
          placeholder: 'is use Control placeholder'
        }
      });
      onMounted(() => {
        console.warn('mount el form control', formControl.elFormRef);
        console.warn('elFormItemRef 2', inputFormControl2.elFormItemRef.clearValidate());
      });
      return {
        inputFormControl, inputFormControl2, formControl
      }
    }
  }).$mount('#app');
</script>
